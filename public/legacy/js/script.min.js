function setInventory(e){$.post("/set-inventory",{inventory:e},function(t){$.parseJSON(t);2==e&&(window.location="/thankyou")})}function logout(){currentStep<4&&($("section.modal").show(),PageTitleNotification.On("Need more time ?",2e3),t2=setTimeout(function(){setInventory(2)},15e3))}function resetTimer(){clearTimeout(t),t=setTimeout(logout,45e3)}function ScrollObj(e){this.parent=e.parent(),this.slider=this.parent.find(".slider"),this.trackHeight=this.slider.parent().height(),this.sliderOffset=this.slider.offset().top,this.trackOffset=this.parent.find(".slide-track").offset().top,this.sliderHeight=this.slider.height(),this.bottomLimit=this.trackOffset+this.trackHeight-this.sliderHeight-2,this.inc=Math.abs(this.bottomLimit)/(this.trackHeight-this.sliderHeight),this.checkHeight=function(){var t=e.outerHeight(),i=this.parent.outerHeight();t>i?(e.hasClass("scroll")||this.parent.addClass("scroll"),this.slider.css({height:i/t*this.trackHeight}),this.sliderHeight=i/t*this.trackHeight,this.bottomLimit=this.trackHeight-this.sliderHeight-2,this.inc=Math.abs(this.bottomLimit)/(this.trackHeight-this.sliderHeight)):(this.parent.removeClass("scroll"),this.slider.css({height:0}),this.sliderHeight=0)},this.scrollTo=function(e,t){this.slider.offset({top:t}),this.sliderOffset=this.slider.offset().top}}function scrollToBottom(e){var e=$(e),t=e.parent(),i=t.outerHeight(),a=e.outerHeight();if(a>i){var s=t.find(".slider"),n=s.height(),o=i-a-2,l=t.find(".slide-track").height();moveY=l-n,s.stop().animate({top:moveY}),e.stop().animate({top:o})}}function checkHeight(e){var e=$(e),t=e.parent(),i=t.outerHeight(),a=e.outerHeight();if(a>i){var s=0,n=i-a-2,o=i/a*100,l=Math.abs(n);t.addClass("scroll"),t.find(".slide-track").remove(),t.append('<div class="slide-track"><div class="slider" style="height:'+o+'%"></div></div>');var d=t.find(".slide-track").height(),c=t.find(".slide-track").offset().top,r=t.find(".slider"),m=r.height(),h=d-m,u=l/h,p=r.offset().top;t.find(".slider").on("mousedown",function(t){p=r.offset().top;var i=t.pageY-p;$("body").on("mousemove",function(t){var a=t.pageY-c-i;a>0&&a<d-m?(p=r.offset().top,r.css({top:a}),e.css({top:-((p-c)*u)}),s=-((p-c)*u)):a<0?(a=0,r.css({top:a}),e.css({top:0})):a>d-m&&(a=d-m,r.css({top:a}),e.css({top:n}))}).one("mouseup",function(){$(this).off("mousemove")})}),t.on("mousewheel",function(t){t.originalEvent.deltaY>0?(s-=60,s<n&&(s=n)):t.originalEvent.deltaY<0&&(s+=60,s>0&&(s=0)),r.css({top:-(s/u)}),e.css({top:s})})}else t.removeClass("scroll"),t.find(".slide-track").remove(),e.css({top:0}),t.off("mousedown mousemove mousewheel")}function sendEmail(e){$("#email-preface").html("YOUR INVENTORY WAS SENT TO:"),$("#user-email2").html(e),$.post("/send-inventory-email",{email_address:e},function(e){})}function calculateDistances(){var e="90036",t="90210";""!=$("#zip_from").val()&&(e=$("#zip_from").val()),""!=$("#zip_to").val()&&(t=$("#zip_to").val());var i=new google.maps.DistanceMatrixService;i.getDistanceMatrix({origins:[e],destinations:[t],travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.IMPERIAL,avoidHighways:!1,avoidTolls:!1},callback)}function callback(e,t){if(t!=google.maps.DistanceMatrixStatus.OK)alert("Error: Please try again at a later time.");else{var i=e.originAddresses,a=e.destinationAddresses,s="",n=i.toString(),o=a.toString();if(n.match(/\bUSA\b/)&&o.match(/\bUSA\b/))try{for(var l=0;l<i.length;l++)for(var d=e.rows[l].elements,c=0;c<d.length;c++)s+=d[c].distance.text;var r="six bedrooms and more house";""!=$("#number_of_rooms").val()&&(r=$("#number_of_rooms").val()),$.post("/validate/calculator/calc",{rooms:r,miles:s},function(e){var t=$.parseJSON(e);setTimeout(function(){$("#quote-range").html("$"+t.min+" - $"+t.max)},5)})}catch(e){setTimeout(function(){$("#quote-range").html("Unable to calculate price range, one or more of your locations may not be accessible by moving trucks"),$("#range-loader").hide("blind"),$("#quote-range").show("blind")},5e3)}else setTimeout(function(){$("#quote-range").html("Unable to calculate, Locations may not be in the USA"),$("#range-loader").hide("blind"),$("#quote-range").show("blind")},3e3)}}function closeSearch(){$("#search-results").hide().find("ul").html(""),$("#search-image").hide(),$("#search").val("")}function loadImage(e){""!==items[e].isChild?items[items[e].isChild].image===!0?$("#search-image").show().css({backgroundImage:"url(inventory_new/img/items/"+items[items[e].isChild].item_name.toLowerCase().split(" ").join("_")+".png)"}):$("#search-image").show().css({backgroundImage:"url(inventory_new/img/coming-soon.png)"}):items[e].image===!0?$("#search-image").show().css({backgroundImage:"url(inventory_new/img/items/"+items[e].item_name.toLowerCase().split(" ").join("_")+".png)"}):$("#search-image").show().css({backgroundImage:"url(inventory_new/img/coming-soon.png)"})}var items=!1,animating=!1,emailChecked,currentStep=0,t,t2,pageHistory=[];history.pushState(pageHistory,"Initial State");var selected={updateTotals:function(e,t,i){selected.total=parseInt(selected.total)+e,selected.totalWeight=parseInt(selected.totalWeight)+t,selected.totalVol=parseInt(selected.totalVol)+i,$("#total-items").html(selected.total-parseInt(selected.categories.Boxes.total)),$("#item-weight").find("span").html(selected.totalWeight+" lbs"),$("#item-vol").find("span").html(selected.totalVol+" CF"),$("#item-count").html(selected.total+" <sup>ITM</sup>"),$("#total-vol").html(selected.totalVol+" <sup>CF</sup>"),$("#total-weight").html(selected.totalWeight+" <sup>LBS</sup>")},addItem:function(e,t,i,a,s){var n=selected.categories[t].items.indexOf(String(e));"undefined"==typeof s&&(s=e),n===-1?(n=selected.categories[t].items.length,"Boxes"==t&&($("#box-holder").find("ul").append('<li><div class="cat" id="box-'+e+'">'+items[e].item_name+'</div><div class="number" style="display:block;">1</div></li>').find("li:last").addClass("animate-in"),checkHeight("#box-holder"),setTimeout(function(){$("li").removeClass("animate-in"),animating=!1},500)),selected.categories[t].items.push(String(e)),selected.categories[t].itemCount.push("1"),selected.categories[t].total=parseInt(selected.categories[t].total)+1):(selected.categories[t].itemCount[n]=parseInt(selected.categories[t].itemCount[n])+1,selected.categories[t].total=parseInt(selected.categories[t].total)+1,"Boxes"==t&&$(document.getElementById("item-"+e)).siblings(".number").html(selected.categories[t].itemCount[n])),selected.updateTotals(1,i,a),$(document.getElementById("added-"+t.split(" ").join("_"))).siblings(".number").html(selected.categories[t].total);var o=""!=$(document.getElementById("item-"+s)).find(".img").find(".number").html()?parseInt($("#item-"+s).find(".img").find(".number").html()):0;o++,items[e].hasChildren.length>0?($("#item-"+e).find(".img").find(".number").html(o),$("#item-"+e).find(".menu").find("li").eq(0).find(".number").html(selected.categories[t].itemCount[n]),$("#item-"+e).find(".menu").find("li").eq(0).find(".multi-minus").show()):""!==items[e].isChild?($(document.getElementById("item-"+s)).find(".img").find(".number").html(o),$("#subitem-"+e).find(".number").html(selected.categories[t].itemCount[n]),$("#subitem-"+e).find(".multi-minus").show()):("Boxes"==t&&$("#box-"+e).siblings(".number").addClass("flash").html(selected.categories[t].itemCount[n]),$("#item-"+e).find(".number").addClass("flash").html(selected.categories[t].itemCount[n])),setTimeout(function(){$("#item-"+e).find(".number").removeClass("flash")},500)},removeItem:function(e,t,i,a,s){var n=selected.categories[t].items.indexOf(String(e));selected.categories[t].itemCount[n]=parseInt(selected.categories[t].itemCount[n])-1,selected.categories[t].total=parseInt(selected.categories[t].total)-1,selected.updateTotals(-1,-i,-a),"undefined"==typeof s&&(s=e);var o=$(document.getElementById("item-"+s)).find(".img").find(".number").html();o--,items[e].hasChildren.length>0?0==selected.categories[t].itemCount[n]?(selected.categories[t].itemCount.splice(n,1),selected.categories[t].items.splice(n,1),$("#item-"+e).find(".menu").find("li").eq(0).find(".number").html(""),$("#item-"+e).find(".menu").find("li").eq(0).find(".multi-minus").hide(),0==o?($("#item-"+e).removeClass("owned").find(".img").find(".number").html(""),"Boxes"==t&&($(document.getElementById("item-"+e)).addClass("animate-out"),setTimeout(function(){$(".animate-out").removeClass("animate-out"),$(document.getElementById("item-"+e)).remove()},500))):$("#item-"+e).find(".img").find(".number").html(o)):($("#item-"+e).find(".img").find(".number").html(o),$("#item-"+e).find(".menu").find("li").eq(0).find(".number").html(selected.categories[t].itemCount[n])):""!=items[e].isChild?0==selected.categories[t].itemCount[n]?(selected.categories[t].itemCount.splice(n,1),selected.categories[t].items.splice(n,1),$("#subitem-"+e).find(".number").html(""),$("#subitem-"+e).find(".multi-minus").hide(),0==o?$("#item-"+s).removeClass("owned").find(".img").find(".number").html(""):$("#item-"+s).find(".img").find(".number").html(o)):($("#item-"+s).find(".img").find(".number").html(o),$("#subitem-"+e).find(".number").html(selected.categories[t].itemCount[n])):0==selected.categories[t].itemCount[n]?(selected.categories[t].itemCount.splice(n,1),selected.categories[t].items.splice(n,1),"Boxes"==t&&($("#box-"+e).parent().addClass("animate-out"),setTimeout(function(){$(".animate-out").removeClass("animate-out"),$(document.getElementById("box-"+e)).parent().remove()},500)),$("#item-"+e).removeClass("owned").find(".number").html(""),$("#item-"+e).find(".controls").stop(!0).animate({top:"100%"},200)):($("#item-"+e).find(".number").addClass("flash").html(selected.categories[t].itemCount[n]),"Boxes"==t&&$(document.getElementById("box-"+e)).siblings(".number").html(selected.categories[t].itemCount[n])),$(document.getElementById("added-"+t.split(" ").join("_"))).siblings(".number").html(selected.categories[t].total),setTimeout(function(){$("#item-"+e).find(".number").removeClass("flash")},800)},addCat:function(e){selected.activeCats.push(e),selected.categories[e].isActive=!0,$("#ul-holder").find("ul").append('<li><div class="cat" id="added-'+e.split(" ").join("_")+'">'+e+'</div><div class="close-btn">+</div><div class="number">0</div></li>').find("li:last").addClass("animate-in"),sbScroll.checkHeight(),setTimeout(function(){$("li").removeClass("animate-in"),animating=!1,checkHeight("#cat-holder")},500),14==selected.activeCats.length&&$("#save-btn").trigger()},loadCats:function(e){$("#cat-holder").html(""),$("#ul-holder").find("ul").html("");var e=[];$.each(selected.categories,function(t){"Boxes"!==t&&"Misc"!==t&&e.push(t)});for(var t=0;t<e.length;t++){var i=0-133*(t%4),a=0-133*Math.floor(t/4);$("#cat-holder").append('<div class="item'+(selected.activeCats.indexOf(e[t])!=-1?" selected":"")+'" id="'+e[t].split(" ").join("_")+'"><div class="img" style="background-position: '+i+"px "+a+'px"></div><div class="bottom"><h4 class="cancelSelect">'+e[t]+"</h4></div></div>")}for(var t=0;t<selected.activeCats.length;t++)$("#ul-holder").find("ul").append('<li><div class="cat" id="added-'+selected.activeCats[t].split(" ").join("_")+'">'+selected.activeCats[t]+'</div><div class="close-btn">+</div><div class="number">'+selected.categories[selected.activeCats[t]].total+"</div></li>").find("li").addClass("animate-in");setTimeout(function(){$(".animate-in").removeClass("animate-in")},500),checkHeight($("#cat-holder"))},loadBoxes:function(){var e="Boxes",t=[];$.each(items,function(e,i){"Boxes"==i.category&&t.push(i)}),$("#box-holder").find("ul").html(""),$("#main-holder").html("");for(var i=0;i<t.length;i++)if(t[i].image===!0?imageURL="/inventory_new/img/items/"+t[i].item_name.split(" ").join("_").toLowerCase()+".png":""===t[i].image?imageURL="/inventory_new/img/coming-soon.png":imageURL="/inventory_new/img/items/"+t[i].image,t[i].isChild!==!0){var a=selected.categories[e].items.indexOf(String(t[i].item_id)),s=a!==-1?" owned":"",n='<div class="item'+s+(t[i].hasChildren.length>0?" isParent":"")+'" id="item-'+t[i].item_id+'" data-id="'+t[i].item_id+'" data-cf="'+t[i].cf+'" data-lbs="'+t[i].lbs+'"><div class="img" style="background:url('+imageURL+') no-repeat 50%" id="'+t[i].item_name+'"><div class="number">'+(a!==-1?selected.categories[e].itemCount[a]:"")+'</div></div><div class="bottom"><h4 class="cancelSelect">'+(t[i].hasChildren.length>0?t[i].item_name:t[i].size+" "+t[i].item_name)+'</h4><div class="controls clearfix"><div class="minus">&ndash;</div><div class="plus">+</div></div></div></div>';$(document.getElementById("main-holder")).append(n),s&&$("#box-holder").find("ul").append('<li><div class="cat" id="box-'+t[i].item_id+'">'+t[i].item_name+'</div><div class="number" style="display:block">'+selected.categories[e].itemCount[a]+"</div>")}setTimeout(checkHeight,900,"#main-holder"),setTimeout(checkHeight,900,"#box-holder")},loadItems:function(e){currentCat=e;var t=selected.activeCats.indexOf(e);$("#items").find(".heading").find("span").html(selected.activeCats[t]),"undefined"!=typeof selected.activeCats[t+1]?($(".next").show(),$("#next-cat").html(selected.activeCats[t+1]+" >").attr("data-cat",selected.activeCats[t+1])):$(".next").hide(),$("#items-holder").html("");var i=[];if($.each(items,function(t,a){a.category==e&&i.push(a)}),selected.categories[e].sub_categories.length>1)for(var a=1;a<selected.categories[e].sub_categories.length;a++){var s=selected.categories[e].sub_categories[a];s=s.split(" ").join("_"),$("#items-holder").append('<div class="sub-cat" id="subcat-'+s+'"><div class="sub-heading">'+s.split("_").join(" ")+'</div><div class="items-container clearfix"></div>')}for(var a=0;a<i.length;a++){var n,o=0;if(n=i[a].image===!0?"/inventory_new/img/items/"+i[a].item_name.split(" ").join("_").toLowerCase()+".png":""===i[a].image?"/inventory_new/img/coming-soon.png":"/inventory_new/img/items/"+i[a].image,!i[a].isChild){var l=selected.categories[e].items.indexOf(String(i[a].item_id)),d=l!==-1?" owned":"";d&&(o+=parseInt(selected.categories[e].itemCount[l]));var c='<div class="item'+d+(i[a].hasChildren.length>0?" isParent":"")+'" id="item-'+i[a].item_id+'" data-id="'+i[a].item_id+'" data-cf="'+i[a].cf+'" data-lbs="'+i[a].lbs+'"><div class="img" style="background:url('+n+') no-repeat 50%" id="'+i[a].item_name+'"><div class="number">'+(o>0?o:"")+'</div></div><div class="bottom"><h4 class="cancelSelect">'+(i[a].hasChildren.length>0?i[a].item_name:i[a].size+" "+i[a].item_name)+'</h4><div class="controls clearfix"><div class="minus">&ndash;</div><div class="plus">+</div></div></div>'+(i[a].hasChildren.length>0?"<div class='menu'><ul></ul></div>":"")+"</div>";if(selected.categories[e].sub_categories.length>1){var s=i[a].sub_category;s=s.split(" ").join("_"),""==s&&(s="Other"),$(document.getElementById("subcat-"+s)).find(".items-container").append(c)}else $(document.getElementById("items-holder")).append(c);if(i[a].hasChildren.length>0){$("#item-"+i[a].item_id).find(".menu ul").append('<li data-id="'+i[a].item_id+'" data-cf="'+i[a].cf+'" data-lbs="'+i[a].lbs+'" data-parentID="'+i[a].item_id+'" class="clearfix"><div class="item-name">Size: '+i[a].size+'</div><div class="multi-controls"><div class="multi-minus" style="'+(parseInt(selected.categories[e].itemCount[l])>0?"display:block;":"")+'">&ndash;</div></div><div class="number">'+(o>0?o:"")+"</div></li>");for(var r=0;r<i[a].hasChildren.length;r++){var m=items[i[a].hasChildren[r]],h=selected.categories[e].items.indexOf(String(i[a].hasChildren[r]));h!==-1&&(o+=parseInt(selected.categories[e].itemCount[h])),$("#item-"+i[a].item_id).find(".menu ul").append('<li id="subitem-'+m.item_id+'" data-id="'+m.item_id+'" data-cf="'+m.cf+'" data-lbs="'+m.lbs+'" data-parentID="'+i[a].item_id+'" class="clearfix"><div class="item-name">Size: '+m.size+'</div><div class="multi-controls"><div class="multi-minus" style="'+(parseInt(selected.categories[e].itemCount[h])>0?"display:block;":"")+'">&ndash;</div></div><div class="number">'+(h!==-1?selected.categories[e].itemCount[h]:"")+"</div></li>")}o>0&&$(document.getElementById("item-"+i[a].item_id)).addClass("owned").find(".number").eq(0).html(o)}}}$(".sub-cat").each(function(e,t){0==$(this).find(".item").length&&$(this).hide()}),setTimeout(checkHeight,900,"#items-holder")},loadReview:function(){var e=$("#review-holder");e.html(""),$.each(selected.categories,function(t,i){if(i.total>0){e.append('<div class="category clearfix"><div class="cat-title">Your '+t+"</div></div>");for(var a=2,s=1;s<i.items.length;s++)e.find(".category:last").append('<div class="item clearfix"><div class="item-name">'+items[i.items[s]].size+" "+items[i.items[s]].item_name+'</div><div class="item-count"><input type="number" data-id="'+items[i.items[s]].item_id+'" data-parentid="'+items[i.items[s]].isChild+'" data-count="'+i.itemCount[s]+'" data-cat="'+items[i.items[s]].category+'" data-cf="'+items[i.items[s]].cf+'" data-lbs="'+items[i.items[s]].lbs+'" min="1" max="99" value="'+i.itemCount[s]+'"> <span class="delete">+</span></div></div>'),a++;e.find(".item").length%2==1&&e.find(".category:last").append('<div class="item clearfix"></div>')}}),$("#item-count").html(selected.total+" <sup>ITM</sup>"),$("#total-vol").html(selected.totalVol+" <sup>CF</sup>"),$("#total-weight").html(selected.totalWeight+" <sup>LBS</sup>"),setTimeout(checkHeight,900,"#review-holder")}},currentCat="",done=!1;$(document).ready(function(){var e=new Image;e.src="/inventory_new/img/coming-soon.png",$.getJSON("/inventory_new/js/items.json").done(function(e){items=e,e!==!1&&(done=!0)}),$.getJSON("/get-inventory").done(function(e){$.extend(selected,e),selected.loadCats(),$("#item-weight").find("span").html(selected.totalWeight+" lbs"),$("#item-vol").find("span").html(selected.totalVol+" CF"),$("#total-items").html(selected.total-parseInt(selected.categories.Boxes.total))}),$("#user-email").val().length>0&&"false"!==$("#user-email").val()?(emailChecked=$("#user-email").val(),setTimeout(function(){$("#user-email").trigger("keyup")},100)):(emailChecked=!1,$("#user-email").val(""),$("#terms").attr("checked",!1)),$("#save-button").on("click",function(){if($(this).hasClass("to-items")&&done===!0)selected.activeCats.length>0&&($(this).removeClass("to-items").addClass("to-boxes"),$(".active").addClass("completed").removeClass("active").next().addClass("active"),$("#categories").css({position:"absolute"}).animate({left:"-100%",opacity:0},800,function(){$(this).hide()}),$("#sidebar").delay(100).animate({left:"-3.51063829787234%"},500).find(".status-bar").animate({bottom:0},500),$("#sidebar").find(".overflow").css({height:362}),checkHeight("#ul-holder"),$("#ul-holder").find("ul").addClass("selectable").find("li").eq(0).addClass("current"),$("#items").show().css({left:"28.096217493089833%",opacity:1}).addClass("animate-in2").find(".heading > span").html(selected.activeCats[0]),$("#back-btn").show().addClass("animate-in2"),setTimeout(function(){$(".animate-in2").removeClass("animate-in2")},700),selected.loadItems(selected.activeCats[0]),currentStep++,pageHistory.push(currentStep),$("#save-button").find("span").fadeIn(200).delay(1e3).fadeOut(400),$.post("/update-inventory",{select_categories:1,inventory_obj:selected.categories,activeCats:selected.activeCats,total:selected.total,totalWeight:selected.totalWeight,totalVol:selected.totalVol},function(e){}));else if($(this).hasClass("to-boxes"))selected.total>0&&(closeSearch(),$(this).removeClass("to-boxes").addClass("to-review"),$(".active").addClass("completed").removeClass("active").next().addClass("active"),selected.loadBoxes(),$("#sidebar").animate({left:"-103%",opacity:0},700,function(){$(this).hide()}),$("#items").css({position:"absolute"}).animate({left:"100%",opacity:0},700,function(){$(this).hide()}),$("#boxes-main").css({left:0,opacity:1,display:"block"}).addClass("animate-in2"),$("#boxes-sidebar").css({left:"71.789362%",display:"block"}).addClass("animate-in2"),setTimeout(function(){$(".animate-in2").removeClass("animate-in2")},500),$("#save-button").find("span").fadeIn(200).delay(1e3).fadeOut(400),currentStep++,pageHistory.push(currentStep),$.post("/update-inventory",{large_items:1,inventory_obj:selected.categories,activeCats:selected.activeCats,total:selected.total,totalWeight:selected.totalWeight,totalVol:selected.totalVol},function(e){}));else if($(this).hasClass("to-review"))selected.loadReview(),calculateDistances(),$("#save-button").animate({marginTop:-100},400),$(this).removeClass("to-review").addClass("to-completed"),$(".active").addClass("completed").removeClass("active").next().addClass("active"),$("#boxes-main").css({position:"absolute"}).animate({left:"-100%",opacity:0},800,function(){$(this).hide()}),$("#boxes-sidebar").animate({left:"+=100%"},800,function(){$(this).hide()}),$("#review-main").css({display:"block",left:0,opacity:1}).addClass("animate-in2"),$("#review-sidebar").css({display:"block",left:"75.389362%",opacity:1}).addClass("animate-in2"),setTimeout(function(){$(".animate-in2").removeClass("animate-in2")},500),$("#save-button").find("span").fadeIn(200).delay(1e3).fadeOut(400),currentStep++,pageHistory.push(currentStep),$.post("/update-inventory",{add_boxes:1,inventory_obj:selected.categories,activeCats:selected.activeCats,total:selected.total,totalWeight:selected.totalWeight,totalVol:selected.totalVol},function(e){});else if($(this).hasClass("to-completed")){$(".email-container").hide(),$(".active").addClass("completed").removeClass("active").next().addClass("active"),$(this).hide(),$("#review-main").css({position:"absolute"}).animate({left:"-100%",opacity:0},500,function(){$(this).hide()}),$("#review-sidebar").animate({left:"+=100%",opacity:0},500,function(){$(this).hide()}),$("#back-btn").hide(),$(".done").show(),$("#completed-box").find(".big").html(selected.total),$("#completed-heading").animate({marginLeft:"0%"},500),$("#completed-subheading").animate({marginLeft:"0%"},500),$("#completed-box").animate({width:323,height:156},500),$("#completed-box").find(".subbox").eq(0).delay(500).fadeIn(500),$("#completed-box").find(".subbox").eq(1).delay(700).fadeIn(500),$("#completed-box").find(".subbox").eq(2).delay(900).fadeIn(500),emailChecked&&$("#email-confirm").delay(1e3).fadeIn(500),$("#comments").animate({width:475,height:255},500),currentStep++,pageHistory.push(currentStep);var e={};$.each(selected.categories,function(t,i){if("true"==i.isActive||"Boxes"==t){e[t]={items:[]};for(var a=1;a<i.items.length;a++)e[t].items.push({name:items[i.items[a]].item_name,qty:i.itemCount[a]})}}),setInventory(3),$.post("/update-inventory",{review_inventory:1,inventory:e,inventory_obj:selected.categories,activeCats:selected.activeCats,total:selected.total,totalWeight:selected.totalWeight,totalVol:selected.totalVol,email_address:!!emailChecked&&$("#user-email").val()},function(e){emailChecked&&$("#terms").is(":checked")?(sendEmail($("#user-email").val()),$(".user-email").html(emailChecked)):($("#email-text").html("SEND<br/>EMAIL?"),$("#email-preface").html("Where do you want your inventory list sent?"),$("#user-email2").html('<input type="text" class="user-email" placeholder="ENTER EMAIL"><div class="cta" id="email-send"> SEND EMAIL</div>'),$("#email-btn").addClass("clickable"))})}}),$(".step").on("click",function(){var e=$(this).index();if($(this).hasClass("completed")){closeSearch(),$(".active").removeClass("active");for(var t=e;t<4;t++)$(".step").eq(t).removeClass("completed");$(this).removeClass("completed").addClass("active"),1==currentStep?($("#back-btn").addClass("animate-out"),$("#items").css({position:"absolute"}).addClass("animate-out"),$("#sidebar").find(".status-bar").animate({bottom:-47},500),setTimeout(function(){$(".animate-out").hide().removeClass("animate-out"),$("#items-holder").css({top:0})},500)):2==currentStep?($("#boxes-main").addClass("animate-out"),$("#boxes-sidebar").addClass("animate-out"),setTimeout(function(){$(".animate-out").hide().removeClass("animate-out")},700)):3==currentStep?($("#review-main").addClass("animate-out"),$("#review-sidebar").addClass("animate-out"),setTimeout(function(){$(".animate-out").hide().removeClass("animate-out")},700)):4==currentStep&&($("#completed-heading").delay(800).animate({marginLeft:"-100%"},400),$("#completed-subheading").delay(800).animate({marginLeft:"100%"},400),$(".email-container").delay(800).fadeIn(400),$("#save-button").animate({marginTop:-100},400),$("#completed-box").find(".subbox").eq(2).fadeOut(300),$("#completed-box").find(".subbox").eq(1).delay(100).fadeOut(300),$("#completed-box").find(".subbox").eq(0).delay(200).fadeOut(300),$("#completed-box").delay(500).animate({width:0,height:0},500),$("#email-confirm").fadeOut(500),$("#comments").delay(500).animate({width:0,height:0},400,function(){$(".done").hide(),$("#save-button").show()})),0==e?($("#categories").delay(400).show().animate({left:"0%",opacity:1},400,function(){$(this).removeAttr("style")}),$("#sidebar").delay(200).show().animate({left:"71.789362%",opacity:1}).find(".overflow").css({height:412}),$("#ul-holder").find("ul").removeClass("selectable").find("li").removeClass("current"),$("#save-button").removeClass("to-boxes").addClass("to-items"),$("#save-button").animate({marginTop:35},400),selected.loadCats()):1==e?($("#save-button").removeClass("to-review").addClass("to-boxes"),$("#items").show().delay(200).animate({left:"28.096217493089833%",opacity:1},500,function(){$(this).css({position:"relative"})}),$("#sidebar").show().delay(200).animate({left:"-3.51064%",opacity:1},500),$("#save-button").animate({marginTop:35},400)):2==e?($("#save-button").removeClass("to-completed").addClass("to-review"),$("#boxes-main").show().delay(200).animate({left:"0",opacity:1},500,function(){$(this).css({position:"relative"})}),$("#boxes-sidebar").show().delay(200).animate({left:"71.789362%",opacity:1},500),$("#save-button").animate({marginTop:35},400)):3==e&&($("#review-main").delay(400).show().animate({left:"0%",opacity:1},500),$("#review-sidebar").delay(400).show().animate({left:"-=100%",opacity:1},500),$("#save-button").animate({marginTop:-100},400)),currentStep=e}}),$("#user-email").on("keyup",function(){$(".email-counter").eq(1).html($(this).val());var e=$(".email-counter").eq(1).outerWidth();$(this).css({width:e}),emailChecked=$(this).val()}),$("#user-email2").on("keyup","input",function(){$(".email-counter").eq(0).html($(this).val());var e=$(".email-counter").eq(0).outerWidth();$(this).css({width:e})}),$("#back-btn").on("click",function(){$(".step").eq(currentStep-1).trigger("click")}),$("#categories").on("click",".item",function(){if(!animating){animating=!0;var e=$(this).attr("id").split("_").join(" ");selected.addCat(e),$(this).addClass("animate-out").delay(450).fadeOut(0,function(){$(this).removeClass("animate-out")})}}),$("#ul-holder").on("click",".close-btn",function(){var e=$(this).prev().text(),t=this;0==selected.categories[e].total?($(this).parent().addClass("animate-out"),selected.activeCats.splice(selected.activeCats.indexOf(e),1),$(document.getElementById(e.split(" ").join("_"))).fadeIn(0,function(){$(this).addClass("animate-in")}),checkHeight("#cat-holder"),setTimeout(function(){$(t).parent().remove(),$(document.getElementById(e.split(" ").join("_"))).removeClass("animate-in"),sbScroll.checkHeight()},500)):($("#popup").html('<h4>Warning!</h4><p>The category you are trying to remove has selected items! Removing the category will remove previously selected items. Continue?<br/><br/> <div class="btn" id="continue">CONTINUE</div><div class="btn" id="cancel">CANCEL</div>').show(),$("#cancel").one("click",function(){$("#popup").hide()}),$("#continue").one("click",function(){$("#popup").hide(),$(t).parent().addClass("animate-out"),selected.activeCats.splice(selected.activeCats.indexOf(e),1),$(document.getElementById(e.split(" ").join("_"))).fadeIn(0,function(){$(this).addClass("animate-in")}),checkHeight("#cat-holder"),setTimeout(function(){$(t).parent().remove(),$(document.getElementById(e.split(" ").join("_"))).removeClass("animate-in"),sbScroll.checkHeight()},500);for(var i=selected.categories[e].items.length,a=1;a<i;a++)selected.updateTotals(-1,-items[selected.categories[e].items[a]].lbs*selected.categories[e].itemCount[a],-items[selected.categories[e].items[a]].cf*selected.categories[e].itemCount[a]);selected.categories[e].isActive=!1,selected.categories[e].total=0,selected.categories[e].items=[!1],selected.categories[e].itemCount=[!1]}))}),$("#terms").on("change",function(e){emailChecked=!!$(this).is(":checked")&&$("#user-email").val()}),$("#sidebar").on("click",".selectable li",function(){$(".current").removeClass("current"),$(this).addClass("current");var e=$(this).find(".cat").attr("id").split("_").join(" ").split("added-")[1];selected.loadItems(e),$("#items-holder").css({top:0})}),$("#items-holder").on("click",".item",function(){var e=parseInt($(this).attr("data-id"));$(this).hasClass("isParent")!==!0&&($(this).addClass("owned"),selected.addItem(e,currentCat,parseInt($(this).attr("data-lbs")),parseInt($(this).attr("data-cf"))),$(this).find(".controls").stop(!0).animate({top:"0%"},200))}),$("#items-holder").on("click","li",function(e){e.stopPropagation();var t=parseInt($(this).attr("data-id")),i=parseInt($(this).attr("data-parentID"));$(this).parents(".item").addClass("owned"),selected.addItem(t,currentCat,parseInt($(this).attr("data-lbs")),parseInt($(this).attr("data-cf")),i)}),$("#items-holder").on("click",".minus",function(e){e.stopPropagation();var t=parseInt($(this).parents(".item").attr("data-id"));selected.removeItem(t,currentCat,parseInt($(this).parents(".item").attr("data-lbs")),parseInt($(this).parents(".item").attr("data-cf")))}),$("#items-holder").on("click",".multi-minus",function(e){e.stopPropagation();var t=parseInt($(this).parents("li").attr("data-id")),i=parseInt($(this).parents("li").attr("data-parentID"));selected.removeItem(t,currentCat,parseInt($(this).parents("li").attr("data-lbs")),parseInt($(this).parents("li").attr("data-cf")),i)}),$("#items-holder").on("mouseenter",".owned",function(){$(this).hasClass("isParent")!==!0&&$(this).find(".controls").stop(!0).animate({top:"0%"},200)}).on("mouseleave",".owned",function(){$(this).hasClass("isParent")!==!0&&$(this).find(".controls").stop(!0).animate({top:"100%"},200)}),$("#items-holder").on("click",".plus, .minus",function(){$(this).addClass("pressed"),setTimeout(function(){$(".pressed").removeClass("pressed")},200)}),$("#next-cat").on("click",function(){var e=$(this).attr("data-cat");$(document.getElementById("added-"+e.split(" ").join("_"))).trigger("click")}),$("#search").on("keyup",function(e){var t=$(this).val().toLowerCase();if(t.length>=2)if(40!==e.which&&38!==e.which&&13!==e.which){var i=new RegExp(t,"g"),a=[];if($.each(items,function(e,t){i.test(t.item_name.toLowerCase())&&"Boxes"!==t.category&&a.push(t)}),a.length>0){$("#search-results").find("ul").html(""),$("#search-image").removeAttr("style");for(var s=0;s<a.length;s++)$("#search-results").show().find("ul").append('<li data-id="'+a[s].item_id+'" data-cat="'+a[s].category+'" data-cf="'+a[s].cf+'" data-lbs="'+a[s].lbs+'">'+(""!==a[s].sub_category?a[s].sub_category+", ":"")+a[s].item_name+(""!==a[s].size?" - "+a[s].size:"")+"</li>");$("#search-results").find("li").eq(0).addClass("selected");var n=$("#search-results").find(".selected").attr("data-id");loadImage(n)}else $(".search").hide()}else{e.stopImmediatePropagation(),e.preventDefault();var o=$("#search-results").find(".selected");if(40===e.which&&0!==o.next().length){o.removeClass("selected").next().addClass("selected"),$("#search-results")[0].scrollTop+=$("#search-results").find(".selected").position().top-7;var n=o.next().attr("data-id");loadImage(n)}else if(38===e.which&&0!==o.prev().length){o.removeClass("selected").prev().addClass("selected"),$("#search-results")[0].scrollTop+=$("#search-results").find(".selected").position().top-7;var n=o.prev().attr("data-id");loadImage(n)}else 13==e.which&&$("#search-results").find(".selected").trigger("click")}else $(".search").hide().find("ul").html("")}).on("blur",function(e){}).on("focus",function(){
$("#search-results").show(),""!=$(this).val()&&$("#search-image").show()}),$("#search-results").on("mousewheel",function(e){e.stopPropagation()}),$("#search-results").on("mouseover","li",function(){var e=$(this).attr("data-id");loadImage(e)}),$("#search-results").on("click","li",function(){var e=$(this).attr("data-cat");$(document.getElementById(e.split(" ").join("_"))).addClass("selected");var t=$("#search-image").offset();selected.activeCats.indexOf(e)===-1&&selected.addCat(e);var i=$(document.getElementById("added-"+e.split(" ").join("_"))).siblings(".number").offset();selected.addItem($(this).attr("data-id"),e,parseInt($(this).attr("data-lbs")),parseInt($(this).attr("data-cf"))),$(document.getElementById("item-"+$(this).attr("data-id"))).length>0&&$(document.getElementById("item-"+$(this).attr("data-id"))).addClass("owned"),$("#search-image").addClass("scaleDown").animate({right:"+="+(t.left-i.left),top:"+="+(i.top-t.top)},500,function(){$(this).removeAttr("style").hide().removeClass("scaleDown")}),$("#search").val(""),$("#search-results").hide().find("ul").html("")}),$("#main-holder").on("click",".item",function(){var e=parseInt($(this).attr("data-id"));$(this).addClass("owned"),selected.addItem(e,"Boxes",parseInt($(this).attr("data-lbs")),parseInt($(this).attr("data-cf"))),$(this).find(".controls").stop(!0).animate({top:"0%"},200)}),$("#main-holder").on("click",".minus",function(e){e.stopPropagation();var t=parseInt($(this).parents(".item").attr("data-id"));selected.removeItem(t,"Boxes",parseInt($(this).parents(".item").attr("data-lbs")),parseInt($(this).parents(".item").attr("data-cf")))}),$("#main-holder").on("mouseenter",".owned",function(){$(this).find(".controls").stop(!0).animate({top:"0%"},200)}).on("mouseleave",".owned",function(){$(this).find(".controls").stop(!0).animate({top:"100%"},200)}),$("#main-holder").on("click",".plus, .minus",function(){$(this).addClass("pressed"),setTimeout(function(){$(".pressed").removeClass("pressed")},200)});var t;$("#review-main").on("click","input",function(){parseInt($(this).val())>parseInt($(this).attr("data-count"))?selected.addItem(parseInt($(this).attr("data-id")),$(this).attr("data-cat"),parseInt($(this).attr("data-lbs")),parseInt($(this).attr("data-cf")),parseInt($(this).attr("data-parentid"))):parseInt($(this).val())<parseInt($(this).attr("data-count"))&&1!==parseInt($(this).attr("data-count"))&&selected.removeItem(parseInt($(this).attr("data-id")),$(this).attr("data-cat"),parseInt($(this).attr("data-lbs")),parseInt($(this).attr("data-cf")),parseInt($(this).attr("data-parentid"))),$(this).attr("data-count",$(this).val()),t=parseInt($(this).val())}),$("#review-main").on("focus","input",function(){t=parseInt($(this).val())}).on("blur","input",function(){for(var e=parseInt($(this).val()),i=e-t,a=0;a<Math.abs(i);a++)i<0?selected.removeItem(parseInt($(this).attr("data-id")),$(this).attr("data-cat"),parseInt($(this).attr("data-lbs")),parseInt($(this).attr("data-cf")),parseInt($(this).attr("data-parentid"))):i>0&&selected.addItem(parseInt($(this).attr("data-id")),$(this).attr("data-cat"),parseInt($(this).attr("data-lbs")),parseInt($(this).attr("data-cf")),parseInt($(this).attr("data-parentid")));0==e&&$(this).next().trigger("click")}),$("#review-main").on("click",".delete",function(){var e=$(this).prev(),t=e.val();for(i=0;i<t;i++)selected.removeItem(parseInt(e.attr("data-id")),e.attr("data-cat"),parseInt(e.attr("data-lbs")),parseInt(e.attr("data-cf")),parseInt(e.attr("data-parentid")));var a=e.parents(".category").find(".item").length;a%2==0&&(e.parents(".category").find(".item").last().is(":empty")?2==e.parents(".category").find(".item").length?e.parents(".category").remove():(e.parents(".category").find(".item").last().remove(),e.parents(".item").remove()):(e.parents(".category").append('<div class="item clearfix"></div>'),e.parents(".item").remove()))});var a=/[a-zA-Z0-9.!#$%&'*+-\/=?^_`{|}~]+@[a-z0-9-]+\.\w./;$("#user-email2").on("click","#email-send",function(){var e=$("#user-email2").find("input").val();a.test(e)?sendEmail($("#user-email2").find("input").val()):$("#user-email2").find("input").addClass("error")}),$("#user-email2").on("focus","input",function(){$(this).removeClass("error")}),$("#btn_feedback").on("click",function(e){e.preventDefault();var t=$("#feedback").val();$.trim(t)?$.post("/feedback",{feedback:t},function(e){"success"==e&&$("#comments").html("Thank you for your feedback.")}):$("#feedback").focus()}),$("#btn_yes").click(function(){setInventory(1),clearTimeout(t2),PageTitleNotification.Off(),$("section.modal").hide()}),$("#btn_no").click(function(){setInventory(2),PageTitleNotification.Off(),$("section.modal").hide()}),"gotmovers.com"!=location.host&&"www.gotmovers.com"!=location.host||(window.onload=resetTimer,document.onmousemove=resetTimer,document.onkeypress=resetTimer,document.onmousedown=resetTimer,document.onclick=resetTimer,document.onscroll=resetTimer,document.onkeypress=resetTimer);setInterval(function(){$.get("/keep-alive")},3e4);window.onpopstate=function(e){if(e.preventDefault(),pageHistory.length){var t=pageHistory.pop();window.history.pushState(pageHistory,"State"),t&&$("#progress-bar").find(".step").eq(t-1).trigger("click")}}});var PageTitleNotification={Vars:{OriginalTitle:document.title,Interval:null},On:function(e,t){var i=this;i.Vars.Interval=setInterval(function(){document.title=i.Vars.OriginalTitle==document.title?e:i.Vars.OriginalTitle},t?t:1e3)},Off:function(){clearInterval(this.Vars.Interval),document.title=this.Vars.OriginalTitle}},sbScroll=new ScrollObj($("#ul-holder"));$("#ul-holder").next().find(".slider").on("mousedown",function(e){var t=e.pageY;$("body").on("mousemove",function(e){var i=e.pageY-(t-sbScroll.sliderOffset);sbScroll.scrollTo(e,i)}).one("mouseup",function(){$(this).off("mousemove")})});